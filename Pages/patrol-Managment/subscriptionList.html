<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>ุฅุฏุงุฑุฉ ุงููุดุชุฑููู</title>
    <link
      rel="stylesheet"
      href="../../Assets/Styles/patrol-Managment/subscriptionList.css"
    />
  </head>
  <body>
    <div class="subscription-container">
      <div class="subscription-header">
        <div class="subscription-actions">
          <button id="addSubscriber">โ ุฅุถุงูุฉ ุงุดุชุฑุงู</button>
          <button id="filterBtn">๐ฝ ููุชุฑ</button>
          <button id="refreshBtn">๐ ุชุญุฏูุซ</button>
        </div>
        <div class="subscription-total">
          ุฅุฌูุงูู ุงููุดุชุฑููู <span id="totalCount">0</span>
        </div>
      </div>

      <div id="filterMenu" class="subscription-filter-menu hidden">
        <div onclick="toggleNameFilter()">ุงูุงุณู</div>
        <div onclick="toggleStatusFilter()">ุงูุญุงูุฉ</div>
      </div>

      <div id="nameFilter" class="subscription-filter-input hidden">
        <input type="text" id="nameInput" placeholder="ุฃุฏุฎู ุงูุงุณู" />
        <button onclick="filterByName()">ุจุญุซ</button>
      </div>

      <div id="statusFilter" class="subscription-filter-input hidden">
        <button onclick="filterByStatus('ูุชุงุญุฉ')">ูุชุงุญุฉ</button>
        <button onclick="filterByStatus('ููุชููุฉ')">ููุชููุฉ</button>
      </div>

      <table class="subscription-table">
        <thead>
          <tr>
            <th></th>
            <th>ุฑูู ุงููุงุชู</th>
            <th>ุญุงูุฉ ุงูุงุดุชุฑุงู</th>
            <th>ุงุณู ุงููุดุชุฑู</th>
          </tr>
        </thead>
        <tbody id="subscriberList">
          <!-- Data will be rendered here -->
        </tbody>
      </table>
    </div>

    <!-- Popup -->
    <div id="popup" class="subscription-popup hidden">
      <div class="subscription-popup-content">
        <button class="close-btn" onclick="closePopup()">&times;</button>
        <h2>ุฅุถุงูุฉ ุงุดุชุฑุงู</h2>
        <div id="notification" class="subscription-notification hidden"></div>
        <div class="subscription-form-grid">
          <div>
            <label for="employeeSelect">ุงูููุธู</label>
            <select id="employeeSelect"></select>
          </div>
          <div>
            <label for="patrolSelect">ุงูุฏูุฑูุฉ</label>
            <select id="patrolSelect"></select>
          </div>
        </div>
        <div class="button-group">
          <button onclick="saveNewSubscriber()">ุญูุธ</button>
          <button class="cancel" onclick="closePopup()">ุฅูุบุงุก</button>
        </div>
      </div>
    </div>

    <!-- Edit Popup -->
    <div id="editPopup" class="subscription-popup hidden">
      <div class="subscription-popup-content">
        <button class="close-btn" onclick="closeEditPopup()">&times;</button>
        <h2>ุชุนุฏูู ุงูุงุดุชุฑุงู</h2>
        <div id="editNotification" class="subscription-notification hidden"></div>
        <div class="subscription-form-grid edit-form">
          <div>
            <label for="editEmployeeSelect">ุงูููุธู</label>
            <select id="editEmployeeSelect"></select>
          </div>
          <div>
            <label for="editPatrolSelect">ุงูุฏูุฑูุฉ</label>
            <select id="editPatrolSelect"></select>
          </div>
          <div>
            <label for="editStatusSelect">ุญุงูุฉ ุงูุงุดุชุฑุงู</label>
            <select id="editStatusSelect">
              <option value="0">ูุชุงุญุฉ</option>
              <option value="1">ููุชููุฉ</option>
            </select>
          </div>
        </div>
        <div class="button-group">
          <button onclick="saveEditedSubscriber()">ุญูุธ ุงูุชุนุฏููุงุช</button>
          <button class="cancel" onclick="closeEditPopup()">ุฅูุบุงุก</button>
        </div>
      </div>
    </div>

    <script src="../../Java script/patrol-Managment/subscriptionList.js"></script>
  </body>
</html>
